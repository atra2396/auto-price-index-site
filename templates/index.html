{% extends "layout.html" %}
{% block content %}
<div class="row mh-75" id="test-div">
    <script>
        let ctx;
        let myChart;
    </script>
    {% if start_year and end_year and make and model and buckets and values %}
        {{ render_partial('prices.html', start_year=start_year, end_year=end_year, make=make, model=model, buckets=buckets, values=values) }}
    {% else %}
    <div class="col text-center" style="height: 30vh;">
        <h1 style="margin-top: 15vh; font-size: 5em;">Test Header</h1>
    </div>
    {% endif %}
</div>
<form class="row mt-3">
    <div class="col">
        <select name="start_year" class="form-select year-selector" id="start-year-select" hx-get="/end_years" hx-target="#end-year-select" hx-swap="outerHTML" aria-label="Year selector">
            <option selected>Select Start Year</option>
            {% for year in years %}
            <option value="{{year}}">{{year}}</option>
            {% endfor %}
        </select>
    </div>
    <div class="col">
        <select name="end_year" class="form-select" id="end-year-select" disabled>
            <option selected>Select End Year</option>

        </select>
    </div>
    <div class="col">
        <select class="form-select" id="make-select" aria-label="Make selector" disabled>
            <option selected>Select Make</option>
        </select>
    </div>
    <div class="col">
        <select class="form-select" id="model-select" aria-label="Model selector" disabled>
            <option selected>Select Model</option>
        </select>
    </div>
    <div class="col-1">
        <button type="submit" class="btn btn-primary" hx-get="/" hx-push-url="true" hx-include=".form-select" hx-target="#test-div">Search</button>
    </div>
</form>
{% endblock %}